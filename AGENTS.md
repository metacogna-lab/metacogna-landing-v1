# Repository Guidelines

## Project Structure & Module Organization
`index.tsx` and `App.tsx` compose the landing experience, while `components/` hosts reusable sections such as `HeroSection` and `PortalDashboard`. Scenario data and copy live in `data/`, shared schemas sit in `types.ts`, and service helpers (e.g., authentication) are in `services/`. Long-running logic for HubSpot and other integrations resides under `workers/`. Static assets generated by `vite build` go to `dist/`, reference docs belong in `docs/`, and experiments stay scoped to `steg/`. Keep new modules colocated with their nearest feature to preserve the landing-page-first layout.

## Build, Test, and Development Commands
- `bun install` (or `npm install`): install dependencies listed in `bun.lock`/`package.json`.
- `bun run dev` (or `npm run dev`): start the Vite dev server with hot reload on http://localhost:5173.
- `bun run build`: emit an optimized bundle into `dist/`.
- `bun run preview`: serve the production bundle locally for smoke-testing.

## Coding Style & Naming Conventions
Write components in TypeScript/React with functional patterns and hooks. Match the existing 2-space indentation, single quotes, and trailing commas where JSX allows. Components and files that export React elements should use PascalCase (`RealityAnchor.tsx`), while helpers/constants stay camelCase. Keep styling scoped via utility classes or component-level CSS-in-JSX. Run `bunx prettier --write path/to/file.tsx` before opening a PR to keep formatting consistent.

## Testing Guidelines
Automated tests are not yet configured; rely on focused manual validation. When adding Vitest or Playwright suites, place specs next to the component using the `ComponentName.test.tsx` pattern so they bundle cleanly. For now, verify each major route (landing, portal, gallery, services) in light and dark mode via `bun run dev`, and document manual test steps in the PR description.

## Commit & Pull Request Guidelines
Recent history favors concise, descriptive subjects (e.g., `feat: Improve user experience and navigation`). Follow the `type: summary` pattern (`feat`, `fix`, `chore`, `docs`) and keep bodies under 72 columns when explaining context. Each pull request should include: purpose, screenshots or Loom for UI shifts, environment or feature-flag toggles touched, and manual test notes. Link to the relevant Linear/Jira ticket when applicable, and request review from another landing-page maintainer before merging.

## Security & Configuration Tips
Keep `GEMINI_API_KEY` and any hub credentials solely inside `.env.local`, which is gitignored. Never commit secrets referenced by `wrangler.toml`; use Cloudflare dashboard vars for deployment. If you add new worker bindings or feature flags, document them in `README.md` and double-check that defaults fall back safely (see `App.tsx` `VITE_ENABLE_*` guards).
